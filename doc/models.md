Описание моделей
================


Общие требования к описываемым классам
--------------------------------------


- Все свойства описываемых классов должны иметь сеттер и геттер. По умолчанию все свойства приватные, а сеттеры и геттеры публичные.


Класс Текстура (Texture)
------------------------


Класс Спрайт (Sprite)
---------------------

Класс описывает свйоства и метод отрисовки текстуры.
 
### Свойства

| Поле          | Тип     | Описание
|:--------------|:--------|:-----------------------------------|
| id            | GUID    | Уникальный номер объекта в Комнате
| x, y          | Double  | Позиция Объекта в Комнате
| texture       | Texture | Текстура Объекта для отрисовки

### Методы

+ `update(delta)` - выполняет обновление состояния спрайта
+ `draw(ctx)` - отрисовка спрайта в канве


Класс Объект Комнаты (RoomObject)
-----------------------------------------------------------------

Расширяет класс **Sprite**.

Класс описывает динамический Объект Комнаты. Такой объект имеет скорость и направление перемещения. При обновлении метода выполняется пересчет позиции. Интерфейс также описывает Текстуру Объекта.

### Свойства

| Поле          | Тип     | Описание
|:--------------|:--------|:-----------------------------------|
| moveDirection | Double  | Направление движения Объекта
| moveSpeed     | Double  | Скорость перемещения Объекта

### Методы

+ `RoomObject(id)` - конструктор. Принимает на вход значение поля id. Если аргумент `id` не заполнен, то значение поля `id` генерируется автоматически.
+ `move(x, y)` - перемещает Объект в указанную позицию в Комнате. Не возвращает результат.
+ `translate(dx, dy)` - смещает Объект на указанное растояние от текущей координаты. Не возвращает результат.
+ `update(delta)` - обновляет состояние Объекта, выполняет перемещение и вызов родительского метода. Метод вызывается Комнатой, в которой находится Объект.

### События

+ `onUpdate(delta)` - событие вызывается при обновлении Комнаты
+ `onRoomExit()` - срабатывает когда позиция объекта 


Класс Комната (Room)
--------------------


Класс описывает состояние комнаты, мира, в котором происходит действие с Объектами.


### Свойства

| Поле          | Тип     | Описание
|:--------------|:--------|:-----------------------------------|
| id | GUID | Уникальный номер комнаты
| objects | RoomObject[] | Список объектов комнаты


Класс Игрок (Player)
----------------------------------------------


Расширяет класс **RoomObject**.

Класс, описывающий участника процесса, перемещающегося по Комнате, и связанный с одним из Игроков Комнаты.

### Константы

| Константа      | Тип    | Значение | Опсиание
|:---------------|:-------|:-----|:---------------------------|
| SPEED_VALUE    | Double | 40.0 | Скорость перемещения за секунду
| TIME_TO_RELOAD | Double | 3.0  | Время перезарядки оружия

### Свойства

| Поле          | Тип      | Описание                           
|:--------------|:---------|:-----------------------------------|
| name          | String   | Имя Игрока
| lookDirection | Double   | Направление обзора Игрока
| bullets       | Bullet[] | Список Пуль, выпущенных Игроком
| score         | Double   | Счет Игрока
| lastShootTime | Time     | Время последнего выстрела, отсчитывается от времени Комнаты

### Методы

+ `addScore(deltaScore)` - добавляет очки


Класс Пуля (Bullet)
-------------------


Расширяет интерфейс **RoomObject**. 

Объект, описывает летящую пулю. Привязан к Игроку. На сервере при Update метоже выполняется проверка на столкновение с Противником, при столкновении Пуля исчезает, наносит урон только тому Противнику, который к ней ближе.

| Константа      | Тип    | Значение | Опсиание
|:---------------|:-------|:-----|:---------------------------|
| SPEED_VALUE    | Double | 150.0 | Скорость перемещения за секунду


| Поле   | Тип    | Описание        
|:-------|:-------|:------------------------------------------|
| player | Player | Ссылка на объект Игрока, породившего Пулю


Класс Захватчик (Invader)
-------------------------


Расширяет интерфейс **DynamicRoomObejct**.

Объект является основным противником Игрока. При обновлении комнаты Захватчик определяет жертву-Игрока, который находится ближе к нему в Комнате и некоторое время выполняет перемещение к жертве. По истечению этого времени Захватчик выбирает новую жертву по тому же принципу. При обновлении Комнаты также проверяется столкновение с Игроками Комнаты. В случае нахождения любого из Игроков в радиусе поражения Захватчиком, Игроку наносится урон.

| Константа       | Тип    | Значение | Опсиание
|:----------------|:-------|:-----|:---------------------------|
| DAMAGE_VALUE    | Double | 1.0  | Урон, наносимый Игроку за секунду
| SPEED_VALUE     | Double | 50.0 | Скорость перемещения за секунду
| TIME_TO_PURSUIT | Double | 2.0  | Время преследования ближайщей жертвы в секундах

| Поле   | Тип    | Описание        
|:-------|:-------|:------------------------------------------|
| player | Player | Ссылка на объект Игрока-жертвы